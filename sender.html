<!DOCTYPE html>
<html>
<head>
  <title>Sender</title>
</head>
<body>
  <h1>Sender</h1>
  <video id="senderVideo" autoplay playsinline></video>
  <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
  <script>
    const peer = new Peer("sender"); // fixed ID
    const video = document.getElementById("senderVideo");

    navigator.mediaDevices.getUserMedia({ video: true, audio: false }).then(stream => {
      video.srcObject = stream;

      // Call viewer automatically
      peer.on("open", () => {
        const call = peer.call("viewer", stream);
        console.log("Calling viewer...");
      });
    });

    peer.on("error", err => {
      console.error("Peer error (sender):", err);
    });
  </script>
</body>
</html>
